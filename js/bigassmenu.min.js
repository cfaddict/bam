(function($){$.fn.extend({BigAssMenu:function(options){var defaults={activeClass:'active',submenuClass:'submenu',fade:300,height:0};var options=$.extend(defaults,options);return this.each(function(){var obj=$(this);var menuItems=$('> ul > li',obj);var activeClass=options.activeClass;var submenuClass=options.submenuClass;var animateInDelay=options.fade;var animateOutDelay=options.fade;var submenuHeight=options.height;menuItems.each(function(index,value){var menuid=$(this).find("a")[0].id;var submenu=$("#"+menuid).next();var hide=false;$(submenu).hide();$(submenu).addClass(submenuClass);if(submenuHeight>0){$(submenu).css('height',submenuHeight)}var include=$(submenu).attr('include');$("#"+menuid).hover(function(){if(include){load(menuid,include)}if(!$(submenu).hasClass("no-offset")){$(submenu).css("margin-left",($("#"+menuid).offset().left-10))}$(submenu).fadeIn(animateInDelay);$(this).addClass(activeClass)},function(){hide=setTimeout(function(){$(submenu).fadeOut(animateOutDelay)});$("#"+menuid).removeClass(activeClass)});$(submenu).hover(function(){if(hide){clearTimeout(hide);$(submenu).fadeIn(animateInDelay);$("#"+menuid).addClass(activeClass)}},function(){hide=setTimeout(function(){$(submenu).fadeOut(animateOutDelay)});$("#"+menuid).removeClass(activeClass)})})})}});function load(menu,include){$.ajax({url:include,success:function(data){$("#"+menu).next().html(data)},error:function(request){var status=request.status;var e="";switch(status){case 404:e="The template '"+include+"' could not be found";break;default:e="Some error I have not accounted for just happened."}$("#"+menu).next().css('color','red').html(e)}})}})(jQuery);